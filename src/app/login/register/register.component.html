<form (ngSubmit)="onSubmit()" [formGroup]="registerForm" class="p-3">

    <div class="form-group row" [class.has-success]="isValid('username')" [class.has-danger]="isInvalid('username')">
        <label class="col-sm-2 col-form-label" for="registerUsername">Username</label>
        <div class="col-sm-10">
            <input class="form-control" [class.form-control-danger]="isInvalid('username')" [class.form-control-success]="isValid('username')" id="registerUsername" type="text" placeholder="Username" formControlName="username">
        </div>
        <div class="col-sm-10 offset-sm-2 form-control-feedback" *ngIf="hasError('username', ['required', 'minlength', 'maxlength'])">Please choose a username between 3 and 32 characters.</div>
        <div class="col-sm-10 offset-sm-2 form-control-feedback" *ngIf="hasError('username', ['userUnique'])">This username is already taken.</div>
    </div>


    <div class="form-group row" [class.has-success]="isValid('email')" [class.has-danger]="isInvalid('email')">
        <label class="col-sm-2 col-form-label" for="registerEmail">Email</label>
        <div class="col-sm-10">
            <input class="form-control" [class.form-control-danger]="isInvalid('email')" [class.form-control-success]="isValid('email')" id="registerEmail" type="email" placeholder="you@example.com" formControlName="email">
        </div>
        <div class="col-sm-10 offset-sm-2 form-control-feedback" *ngIf="hasError('email', ['required', 'email'])">Please enter a valid email address.</div>
    </div>

    <div class="form-group row" [class.has-success]="isValid('password')" [class.has-danger]="isInvalid('password')">
        <label class="col-sm-2 col-form-label" for="registerPassword">Password</label>
        <div class="col-sm-10">
            <input class="form-control" [class.form-control-danger]="isInvalid('password')" [class.form-control-success]="isValid('password')" id="registerPassword" type="password" formControlName="password">
        </div>
        <div class="col-sm-10 offset-sm-2 form-control-feedback" *ngIf="hasError('password', ['required', 'minlength'])">Please choose a password with minimum 8 characters.</div>
    </div>
    <div class="row mb-3">
        <cmm-recaptcha class="col-sm-10 offset-sm-2" siteKey="6LcvUh4UAAAAABYHX8ukRRfY3aOwieSerjR5HcGT" (verify)="recaptchaVerify($event)"></cmm-recaptcha>
    </div>
    <div class="row">
        <div class="col-sm-10 offset-sm-2">
            <button class="btn btn-primary" type="submit" [disabled]="!registerForm.valid">Register</button>
        </div>
    </div>
</form>
